<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Fixel is a color matching game! Ad free with tons of levels.</title>
    <script>
        (function() {
            const urls = {
                windows: "https://store.steampowered.com/app/1578290/Pixel_Fixel/",
                macos: "https://apps.apple.com/ca/app/pixel-fixel/id6504993028",
                linux: "https://play.google.com/store/apps/details?id=com.bluepinstudio.pixelfixel",
                ios: "https://apps.apple.com/ca/app/pixel-fixel/id6504993028",
                android: "https://play.google.com/store/apps/details?id=com.bluepinstudio.pixelfixel",
                unknown: "https://bluepinstudio.com/pixel-fixel"
            };

            const userAgent = navigator.userAgent || navigator.vendor || window.opera;

            let platformKey = 'unknown';

            if (/iPhone|iPad|iPod/i.test(userAgent)) {
                platformKey = 'ios';
            } else if (/Android/i.test(userAgent)) {
                platformKey = 'android';
            } else if (/Macintosh|MacIntel|MacPPC|Mac68K/i.test(userAgent)) {
                platformKey = 'macos';
            } else if (/Linux/i.test(userAgent)) {
                platformKey = 'linux';
            } else if (/Win32|Win64|Windows|WinCE/i.test(userAgent)) {
                platformKey = 'windows';
            }

            const targetUrl = urls[platformKey] || urls.unknown;

            // Optional logging
            const logVisit = (platform) => {
                const scriptUrl = 'https://script.google.com/macros/s/AKfycbxlHeIKXSssy0cbLkRMcUDQyI4KPKHLpvtlfP1cqNS9Mn9ELy805sKo01ZoF5vfPzcGaw/exec';
                fetch(`${scriptUrl}?platform=${platform}`)
                .catch(() => { /* silently fail if logging isn't possible */ });
            };

            logVisit(platformKey);
            window.location.replace(targetUrl);
        })();
    </script>
</head>
<body>
    <noscript>
        <h1>Pixel Fixel</h1>
        <p>Please select your platform:</p>
        <ul>
            <li><a href="https://store.steampowered.com/app/1578290/Pixel_Fixel/">Windows</a></li>
            <li><a href="https://apps.apple.com/ca/app/pixel-fixel/id6504993028">MacOS</a></li>
            <li><a href="https://play.google.com/store/apps/details?id=com.bluepinstudio.pixelfixel">Linux/Android</a></li>
            <li><a href="https://apps.apple.com/ca/app/pixel-fixel/id6504993028">iOS</a></li>
            <li><a href="https://play.google.com/store/apps/details?id=com.bluepinstudio.pixelfixel">Android</a></li>
        </ul>
    </noscript>
</body>
</html>
